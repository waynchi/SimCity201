EMPLOYEE

Data
------
Enum orderState = {New,ReadyToPay,PaymentReceived,DeliveringChange}
List<Order> orders;
List<Checks> checks;
Class Order {
	enum state;
	List<Item> items;
	double totalDue;
	double totalPaid;
	double totalChange;
	Customer customer;

}
Class Item {
	String name;
	int xPos;
	int yPos;
	double price;
}


Messages
-------
msgHereIsAnOrder(List<Integer>chosenItems) {
	newOrder = new Order(order);
	newOrder.state = orderState.New;
	for(item in chosenItems) {
		newOrder.items.add(item);
	}
	orders.add(newOrder);
}
msgReadyToPay(order) {
	order.state = orderState.ReadyToPay;
}
msgHereIsTheCheck(double totalDue,order) {
	order.totalDue = totalDue;
	order.state = orderState.OutForPayment;	
}
msgHereIsPayment(double amount, order) {
	order.totalPaid = order.totalPaid;
	order.state = orderState.PaymentReceived;		
}
msgHereIsChange(double change, order) {
	order.totalChange = change;
	order.state = orderState.DeliveringChange;
}
msgIAmLeaving(order) {
	orders.remove(order);	
}

Scheduler
-----
for order in orders {
	if order.state = orderState.New {
		getOrder(order);
	}
	if order.state = orderState.ReadyToPay {
		getBillFromCashier(order);
	}
	if order.state = orderState.OutForPayment {
		deliverCheckToCustomer(order);
	}
	if order.state = orderState.PaymentReceived {
		getChangeFromCashier(order);
	}
	if(order.state = orderState.DeliveringChange) {
		deliverChangeToCustomer(order);
	}
}

Actions
-----
getOrder(Order order) {
	for item in order.items {
		DoGetItem(order.posX,order.posY);
	}

}

getBillFromCashier(Order order) {
	for item in order.items {
		double totalDue = totalDue + item.price;
	}
	order.totalDue = totalDue;
	DoGoToCashier();
	cashier.msgPrepareCheck(totalDue);
}
deliverCheckToCustomer(order) {
	DoGoToCustomer();
	order.customer.msgHereIsWhatsDue(order.totalDue);		
}
getChangeFromCashier(order) {
	DoGoToCashier();
	cashier.msgHereIsPayment(order.totalPaid);
}
deliverChangeToCustomer(order) {
	DoGoToCustomer();
	order.customer.msgHereIsChange(order.totalChange);
}